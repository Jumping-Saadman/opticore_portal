<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        :root {
            --shadow-3d-md: 0 8px 25px -5px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
            --shadow-3d-sm: 0 4px 12px -2px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
            --shadow-inset: inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .stat-card {
            background: linear-gradient(135deg, hsl(240, 8%, 7%) 0%, hsl(240, 8%, 5%) 100%);
            box-shadow: var(--shadow-3d-md);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            border-color: rgba(59, 130, 246, 0.5);
        }
        
        .stat-card:hover .card-overlay {
            opacity: 1;
        }
        
        .card-overlay {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, transparent 100%);
            box-shadow: var(--shadow-inset);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .icon-container {
            box-shadow: var(--shadow-3d-sm);
        }
        
        .icon-container:hover {
            background-color: rgba(59, 130, 246, 0.2);
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Dashboard Header -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent">
                Dashboard Home
            </h1>
        </div>

        <!-- Stats Grid -->
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4" id="statsGrid">
            <!-- Stats will be populated by JavaScript -->
        </div>

        <!-- Additional Dashboard Sections -->
        <div class="mt-12 grid gap-6 lg:grid-cols-2">
            <!-- Recent Activity -->
            <div class="bg-gray-800 rounded-lg p-6">
                <h2 class="text-xl font-semibold mb-4">Recent Activity</h2>
                <div id="recentActivity" class="space-y-3">
                    <!-- Activity items will be populated by JavaScript -->
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-gray-800 rounded-lg p-6">
                <h2 class="text-xl font-semibold mb-4">Quick Actions</h2>
                <div class="grid gap-3">
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                        Generate Bill
                    </button>
                    <button class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                        View Payments
                    </button>
                    <button class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                        Client Management
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dashboard data
        const dashboardData = {
            admin: {
                janaClients: { value: '45', change: '+5 this month', trend: 'up' },
                oslClients: { value: '28', change: '+3 this month', trend: 'up' },
                latestOSLPayment: { value: '$12,500', change: '2 days ago', trend: 'up' },
                latestJanaPayment: { value: '$3,200', change: '1 day ago', trend: 'up' },
                pendingBills: { value: '17', change: '-3 from last week', trend: 'down' },
                monthlyOSLPayment: { value: '$45,000', change: '+15% from last month', trend: 'up' },
                monthlyJanaPayment: { value: '$28,000', change: '+8% from last month', trend: 'up' },
                totalMonthlyPayment: { value: '$73,000', change: '+12% from last month', trend: 'up' }
            },
            jana: {
                lastPayment: { value: '$3,200', change: 'Paid on Jan 20, 2025', trend: 'up' },
                totalPayment: { value: '$45,600', change: 'Since account creation', trend: 'up' },
                lastInvoice: { value: '#INV-2025-0234', change: 'Generated Jan 20', trend: 'up' }
            },
            osl: {
                lastPayment: { value: '$12,500', change: 'Paid on Jan 15, 2025', trend: 'up' },
                lastService: { value: 'Cloud Hosting', change: 'Active since Jan 1', trend: 'up' }
            }
        };

        const recentActivity = [
            { timestamp: '2025-01-21 14:35:22', user: 'admin@opticore.com', action: 'User Login', status: 'Success' },
            { timestamp: '2025-01-21 14:30:15', user: 'john@acme.com', action: 'Payment Made', status: 'Success' },
            { timestamp: '2025-01-21 14:25:08', user: 'admin@opticore.com', action: 'Bill Generated', status: 'Success' },
            { timestamp: '2025-01-21 14:20:33', user: 'system', action: 'Auto Reminder', status: 'Info' }
        ];

        // Icon mapping
        const icons = {
            users: 'users',
            dollar: 'dollar-sign',
            file: 'file-text',
            trending: 'trending-up',
            activity: 'activity'
        };

        // Create stat card HTML
        function createStatCard(title, value, change, trend, iconName) {
            const trendIcon = trend === 'up' ? '↑' : '↓';
            const trendColor = trend === 'up' ? 'text-green-400' : 'text-red-400';
            
            return `
                <div class="stat-card border border-gray-700 rounded-lg p-6 relative overflow-hidden group">
                    <div class="card-overlay absolute inset-0"></div>
                    <div class="flex items-start justify-between relative z-10">
                        <div class="flex-1">
                            <p class="text-sm text-gray-400 mb-1 font-medium">${title}</p>
                            <h3 class="text-3xl font-bold mb-2 bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent">${value}</h3>
                            <p class="text-sm flex items-center gap-1 font-semibold ${trendColor}">
                                <span>${trendIcon}</span>
                                ${change}
                            </p>
                        </div>
                        <div class="icon-container h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-all">
                            <i data-lucide="${iconName}" class="h-6 w-6 text-blue-500 drop-shadow-lg"></i>
                        </div>
                    </div>
                </div>
            `;
        }

        // Create activity item HTML
        function createActivityItem(activity) {
            const statusColor = activity.status === 'Success' ? 'text-green-400' : 
                              activity.status === 'Info' ? 'text-blue-400' : 'text-red-400';
            
            return `
                <div class="flex items-center justify-between py-2 border-b border-gray-700 last:border-b-0">
                    <div class="flex-1">
                        <p class="text-sm font-medium">${activity.action}</p>
                        <p class="text-xs text-gray-400">${activity.user} • ${activity.timestamp}</p>
                    </div>
                    <span class="text-xs ${statusColor} font-semibold">${activity.status}</span>
                </div>
            `;
        }

        // Initialize dashboard
        function initializeDashboard(dashboardType = 'admin') {
            const stats = dashboardData[dashboardType];
            const statsGrid = $('#statsGrid');
            const activityContainer = $('#recentActivity');
            
            // Clear existing content
            statsGrid.empty();
            activityContainer.empty();
            
            // Populate stats cards
            Object.entries(stats).forEach(([key, data]) => {
                let iconName = 'dollar';
                let title = key;
                
                // Map keys to appropriate titles and icons
                const titleMap = {
                    janaClients: { title: 'Total Jana Clients', icon: 'users' },
                    oslClients: { title: 'Total OSL Clients', icon: 'users' },
                    latestOSLPayment: { title: 'Latest Payment by OSL', icon: 'dollar' },
                    latestJanaPayment: { title: 'Latest Payment by Jana', icon: 'dollar' },
                    pendingBills: { title: 'No. of Pending Bills', icon: 'file' },
                    monthlyOSLPayment: { title: 'Monthly OSL Payment', icon: 'trending' },
                    monthlyJanaPayment: { title: 'Monthly Jana Payment', icon: 'trending' },
                    totalMonthlyPayment: { title: 'Total Monthly Payment', icon: 'trending' },
                    lastPayment: { title: 'Last Payment Amount', icon: 'dollar' },
                    totalPayment: { title: 'Total Payment So Far', icon: 'trending' },
                    lastInvoice: { title: 'Last Invoice Number', icon: 'file' },
                    lastService: { title: 'Last Avail Service', icon: 'activity' }
                };
                
                const mapping = titleMap[key] || { title: key, icon: 'dollar' };
                title = mapping.title;
                iconName = mapping.icon;
                
                const cardHtml = createStatCard(title, data.value, data.change, data.trend, iconName);
                statsGrid.append(cardHtml);
            });
            
            // Populate recent activity
            recentActivity.forEach(activity => {
                const activityHtml = createActivityItem(activity);
                activityContainer.append(activityHtml);
            });
            
            // Initialize Lucide icons
            lucide.createIcons();
        }

        // Dashboard type selector
        function createDashboardSelector() {
            const selector = `
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">Dashboard Type:</label>
                    <select id="dashboardType" class="bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white">
                        <option value="admin">Admin Dashboard</option>
                        <option value="jana">Jana Client Dashboard</option>
                        <option value="osl">OSL Client Dashboard</option>
                    </select>
                </div>
            `;
            $('.container .mb-8').after(selector);
        }

        // Event handlers
        $(document).ready(function() {
            // Create dashboard selector
            createDashboardSelector();
            
            // Initialize with admin dashboard
            initializeDashboard('admin');
            
            // Handle dashboard type change
            $('#dashboardType').on('change', function() {
                const dashboardType = $(this).val();
                initializeDashboard(dashboardType);
            });
            
            // Add hover effects and animations
            $('.stat-card').hover(
                function() {
                    $(this).addClass('transform scale-105');
                },
                function() {
                    $(this).removeClass('transform scale-105');
                }
            );
            
            // Add click effects to quick action buttons
            $('.bg-blue-600, .bg-green-600, .bg-purple-600').on('click', function() {
                $(this).addClass('transform scale-95');
                setTimeout(() => {
                    $(this).removeClass('transform scale-95');
                }, 150);
            });
        });

        // Auto-refresh functionality (optional)
        function autoRefresh() {
            setInterval(function() {
                // You can add logic here to refresh data from an API
                console.log('Auto-refreshing dashboard...');
            }, 30000); // Refresh every 30 seconds
        }

        // Uncomment to enable auto-refresh
        // autoRefresh();
    </script>
</body>
</html>